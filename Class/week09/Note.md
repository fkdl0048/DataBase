## DataBase Indexes - Hash, B-Tree, B+Tree

데이터베이스에서 원하는 key를 찾으려면 PrimaryKey라도 테이블을 전부 탐색해야 하는 문제점이 있다.

이러한 문제점을 해결하기 위해 데이터베이스 인덱스를 공부헤야 한다.

*Hash*

### Binary Search Tree

이진 탐색 트리는 이진 트리의 일종으로, 이진 탐색 트리의 노드에는 키가 저장되어 있다.

이진 탐색 트리의 특징은 다음과 같다.

- 노드의 왼쪽 서브 트리에는 그 노드의 키보다 작은 키를 지닌 노드들로 이루어져 있다.
- 노드의 오른쪽 서브 트리에는 그 노드의 키보다 큰 키를 지닌 노드들로 이루어져 있다.
- 왼쪽, 오른쪽 서브 트리도 이진 탐색 트리이다.
- 중복된 키를 허용하지 않는다.

높이에 영향을 많이 받는다.

- 발생하는 문제점
  - 1부터 넣으면 트리가 한쪽으로 치우쳐져서 성능이 떨어진다. 결국 n으로..
  - 따라서 밸런스 트리를 사용해야 함

#### 이진탐색트리의 높이 검증

노드가 1개일 때 h는 = 0  
노드가 3개일 때 h = 1
노드가 7개일 때 h = 2

$$ n = 2^1 + 2^2 + 2^3 ... 2^n $$
$$ 2^{h+1} - 1 $$

$$ h = O(log(n)) $$

### Hash Table

해시 테이블은 키를 값에 매핑할 수 있는 구조인, 연관 배열 추상 자료형을 구현하는 자료구조이다.

해시 테이블은 해시 함수를 사용하여 색인(index)을 버킷(bucket)이나 슬롯(slot)의 배열로 계산한다.

이 구조를 사용하면 데이터 항목의 집합을 검색하는 데 필요한 시간이 키의 수에 비례하여 걸리는 대신, 집합 내에서 항목을 식별하고 저장하는 데에 필요한 시간이 걸린다.

### Hash

해시 함수는 임의의 길이의 데이터를 고정된 길이의 데이터로 매핑하는 함수이다.

ex) 문자열의 길이를 해시 함수로 사용할 수 있다.

+ 배열의 크기로 `%`연산
+ 충돌은 연결리스트로 구현

### B-Tree

이진탐색트리는 2_Way_Tree이다.  

B_Tree는 General_Way_Tree이다.

그려볼 것..

가장 기본적인 밸런스를 맞추는 작업은 아래로 내리는 것이 아닌 위로 올려 부모를 확보하는 작업이다.(재귀적)  



![Image](https://user-images.githubusercontent.com/84510455/235564305-72ae90b5-3f78-4d6f-9e9c-2e02abc9006c.png)

#### 삽입

처음부터 값을 b-tree에 넣는 과정을 상상하면서 작업해볼 것

#### 삭제

avl 회전과 같이 min 규칙이 깨지진다면 left나 right을 검사해 회전하여 값을 유지한다.

즉, 규칙이 깨지지 않는다면 그냥 삭제

